{"version":3,"file":"login.js","sources":["pages/login/login.vue","pages/login/login.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"page-container\">\n\t\t\n\t\t<!-- Toast ÊèêÁ§∫ -->\n\t\t<view class=\"toast\" :class=\"{ visible: showToast }\">\n\t\t\t<text>{{ toastMessage }}</text>\n\t\t</view>\n\n\t\t<!-- ÂìÅÁâåÂå∫Âüü -->\n\t\t<view class=\"brand-section\">\n\t\t\t<view class=\"app-logo\">üë£</view>\n\t\t\t<text class=\"app-name\">ÁîüÊ¥ªË∂≥Ëøπ</text>\n\t\t\t<text class=\"app-slogan\">ËÆ∞ÂΩïÁîüÊ¥ª‰∏≠ÁöÑÂæÆÂ∞èÊàêÂ∞±\\nÈáèÂåñ‰Ω†ÁöÑÁæéÂ•ΩÊó∂ÂÖâ</text>\n\t\t</view>\n\n\t\t<!-- Â∫ïÈÉ®Êìç‰ΩúÂå∫ -->\n\t\t<view class=\"action-section\">\n\t\t\t\n\t\t\t<!-- ÂæÆ‰ø°ÁôªÂΩïÊåâÈíÆ -->\n\t\t\t<view class=\"wechat-login-btn\" @tap=\"handleLogin\">\n\t\t\t\t<view class=\"btn-content\" v-if=\"!isLoading\">\n\t\t\t\t\t<image  style=\"width: 56rpx;height: 56rpx;\" src=\"/static/weixin.png\" mode=\"\"></image>\n\t\t\t\t\t<text>ÂæÆ‰ø°‰∏ÄÈîÆÁôªÂΩï</text>\n\t\t\t\t</view>\n\t\t\t\t<!-- Loading Áä∂ÊÄÅ -->\n\t\t\t\t<view class=\"loading-spinner\" v-else></view>\n\t\t\t</view>\n\n\t\t\t<!-- ÊöÇ‰∏çÁôªÂΩï -->\n\t\t\t<view class=\"skip-btn\" @tap=\"handleSkip\">\n\t\t\t\t<text>ÊöÇ‰∏çÁôªÂΩïÔºåÂÖàÈÄõÈÄõ</text>\n\t\t\t</view>\n\n\t\t\t<!-- ÂçèËÆÆÂãæÈÄâÂå∫ -->\n\t\t\t<view class=\"agreement-box\" @tap=\"toggleAgreement\">\n\t\t\t\t<view class=\"checkbox-wrapper\" :class=\"{ checked: isAgreed, shake: showShake }\">\n\t\t\t\t\t<view class=\"custom-checkbox\"></view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"agreement-text\">\n\t\t\t\t\tÊàëÂ∑≤ÈòÖËØªÂπ∂ÂêåÊÑè \n\t\t\t\t\t<text class=\"link\" @tap.stop=\"viewUserAgreement\">„ÄäÁî®Êà∑ÂçèËÆÆ„Äã</text> Âíå \n\t\t\t\t\t<text class=\"link\" @tap.stop=\"viewPrivacyPolicy\">„ÄäÈöêÁßÅÊîøÁ≠ñ„Äã</text>ÔºåÊú™Ê≥®ÂÜåÊâãÊú∫Âè∑Â∞ÜËá™Âä®ÂàõÂª∫Ë¥¶Âè∑„ÄÇ\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\n// ÂçèËÆÆÂãæÈÄâÁä∂ÊÄÅ\nconst isAgreed = ref(false)\n\n// Loading Áä∂ÊÄÅ\nconst isLoading = ref(false)\n\n// Toast ÊòæÁ§∫\nconst showToast = ref(false)\nconst toastMessage = ref('')\n\n// ÊäñÂä®Âä®Áîª\nconst showShake = ref(false)\n\n// ÂàáÊç¢ÂçèËÆÆÂãæÈÄâ\nconst toggleAgreement = () => {\n\tisAgreed.value = !isAgreed.value\n\tshowShake.value = false\n}\n\n// ÊòæÁ§∫ Toast Ê∂àÊÅØ\nconst showToastMessage = (message) => {\n\ttoastMessage.value = message\n\tshowToast.value = true\n\tsetTimeout(() => {\n\t\tshowToast.value = false\n\t}, 2000)\n}\n\n// Êü•ÁúãÁî®Êà∑ÂçèËÆÆ\nconst viewUserAgreement = () => {\n\tuni.navigateTo({\n\t\turl: '/pages/about/about'\n\t})\n}\n\n// Êü•ÁúãÈöêÁßÅÊîøÁ≠ñ\nconst viewPrivacyPolicy = () => {\n\tuni.navigateTo({\n\t\turl: '/pages/about/about'\n\t})\n}\n\n// Â§ÑÁêÜÂæÆ‰ø°ÁôªÂΩï\nconst handleLogin = () => {\n\t// 1. Ê†°È™åÂçèËÆÆ\n\tif (!isAgreed.value) {\n\t\t// Ëß¶ÂèëÊäñÂä®Âä®Áîª\n\t\tshowShake.value = true\n\t\tsetTimeout(() => {\n\t\t\tshowShake.value = false\n\t\t}, 400)\n\t\t\n\t\tshowToastMessage('ËØ∑ÂÖàÈòÖËØªÂπ∂ÂêåÊÑèÁî®Êà∑ÂçèËÆÆ')\n\t\treturn\n\t}\n\t\n\t// 2. ËøõÂÖ• Loading Áä∂ÊÄÅ\n\tisLoading.value = true\n\t\n\t// 3. Ë∞ÉÁî®ÂæÆ‰ø°ÁôªÂΩï\n\tuni.login({\n\t\tprovider: 'weixin',\n\t\tsuccess: (loginRes) => {\n\t\t\tconsole.log('ÂæÆ‰ø°ÁôªÂΩïÊàêÂäü:', loginRes)\n\t\t\t\n\t\t\t// Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\n\t\t\tuni.getUserProfile({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tdesc: 'Áî®‰∫éÂÆåÂñÑÁî®Êà∑ËµÑÊñô',\n\t\t\t\tsuccess: (profileRes) => {\n\t\t\t\t\tconsole.log('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÊàêÂäü:', profileRes)\n\t\t\t\t\t\n\t\t\t\t\t// TODO: Ë∞ÉÁî®ÂêéÁ´ØÊé•Âè£ËøõË°åÁôªÂΩïÈ™åËØÅ\n\t\t\t\t\thandleLoginSuccess(profileRes.userInfo)\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•:', err)\n\t\t\t\t\t// Âç≥‰ΩøËé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•Ôºå‰πüÂÖÅËÆ∏ÁôªÂΩïÔºàÂèØËÉΩÁî®Êà∑ÊãíÁªù‰∫ÜÔºâ\n\t\t\t\t\thandleLoginSuccess(null)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tfail: (err) => {\n\t\t\tconsole.error('ÂæÆ‰ø°ÁôªÂΩïÂ§±Ë¥•:', err)\n\t\t\tisLoading.value = false\n\t\t\t\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ÁôªÂΩïÂ§±Ë¥•',\n\t\t\t\tcontent: 'ÂæÆ‰ø°ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï',\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t}\n\t})\n}\n\n// ÁôªÂΩïÊàêÂäüÂ§ÑÁêÜ\nconst handleLoginSuccess = (userInfo) => {\n\t// ‰øùÂ≠òÁî®Êà∑‰ø°ÊÅØÂà∞Êú¨Âú∞Â≠òÂÇ®\n\tif (userInfo) {\n\t\tuni.setStorageSync('userInfo', userInfo)\n\t}\n\t\n\t// TODO: Ë∞ÉÁî®ÂêéÁ´ØÊé•Âè£Ëé∑ÂèñÊ≠£ÂºèÁöÑÁî®Êà∑Êï∞ÊçÆ\n\tconst mockUserData = {\n\t\tid: 1,\n\t\tnickname: 'Áî®Êà∑' + Math.floor(Math.random() * 10000),\n\t\tavatar: userInfo?.avatarUrl || '',\n\t\tisLoggedIn: true\n\t}\n\tuni.setStorageSync('userData', mockUserData)\n\t\n\tuni.showToast({\n\t\ttitle: 'ÁôªÂΩïÊàêÂäü',\n\t\ticon: 'success'\n\t})\n\t\n\t// Âª∂ËøüË∑≥ËΩ¨Âà∞È¶ñÈ°µ\n\tsetTimeout(() => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/index'\n\t\t})\n\t}, 1500)\n}\n\n// ÊöÇ‰∏çÁôªÂΩï\nconst handleSkip = () => {\n\t// ËÆæÁΩÆÊ∏∏ÂÆ¢Ê®°Âºè\n\tuni.setStorageSync('isGuestMode', true)\n\t\n\tuni.showToast({\n\t\ttitle: 'ËøõÂÖ•Ê∏∏ÂÆ¢Ê®°Âºè',\n\t\ticon: 'none'\n\t})\n\t\n\tsetTimeout(() => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/index'\n\t\t})\n\t}, 1500)\n}\n</script>\n\n<style lang=\"scss\" scoped>\npage {\n\tbackground-color: #FFFFFF;\n}\n\n.page-container {\n\tmin-height: 100vh;\n\tbackground-color: #FFFFFF;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0 64rpx;\n\tjustify-content: space-between;\n}\n\n/* Toast ÊèêÁ§∫ */\n.toast {\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%) scale(0.9);\n\tbackground: rgba(0, 0, 0, 0.8);\n\tcolor: white;\n\tpadding: 24rpx 48rpx;\n\tborder-radius: 60rpx;\n\tfont-size: 28rpx;\n\tfont-weight: 500;\n\topacity: 0;\n\tpointer-events: none;\n\ttransition: all 0.2s;\n\tz-index: 1000;\n\t\n\t&.visible {\n\t\ttransform: translate(-50%, -50%) scale(1);\n\t\topacity: 1;\n\t}\n}\n\n/* ÂìÅÁâåÂå∫Âüü */\n.brand-section {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding-bottom: 160rpx;\n}\n\n.app-logo {\n\twidth: 192rpx;\n\theight: 192rpx;\n\tbackground: #111;\n\tborder-radius: 48rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 96rpx;\n\tcolor: white;\n\tbox-shadow: 0 40rpx 80rpx rgba(0, 0, 0, 0.15);\n\tmargin-bottom: 48rpx;\n\tanimation: breathe 4s ease-in-out infinite;\n}\n\n.app-name {\n\tfont-size: 56rpx;\n\tfont-weight: 800;\n\tcolor: #1D1D1F;\n\tletter-spacing: -1px;\n\tmargin-bottom: 24rpx;\n}\n\n.app-slogan {\n\tfont-size: 30rpx;\n\tcolor: #8E8E93;\n\ttext-align: center;\n\tline-height: 1.6;\n\tmax-width: 480rpx;\n}\n\n/* Â∫ïÈÉ®Êìç‰ΩúÂå∫ */\n.action-section {\n\tpadding-bottom: 120rpx;\n}\n\n/* ÂæÆ‰ø°ÁôªÂΩïÊåâÈíÆ */\n.wechat-login-btn {\n\twidth: 100%;\n\theight: 112rpx;\n\tbackground: #07C160;\n\tborder-radius: 56rpx;\n\tborder: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tgap: 20rpx;\n\tbox-shadow: 0 20rpx 40rpx rgba(7, 193, 96, 0.25);\n\ttransition: transform 0.1s, opacity 0.2s;\n\t\n\t&:active {\n\t\ttransform: scale(0.98);\n\t\topacity: 0.9;\n\t}\n}\n\n.btn-content {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 16rpx;\n\tcolor: white;\n\tfont-size: 34rpx;\n\tfont-weight: 600;\n}\n\n.wechat-icon {\n\twidth: 48rpx;\n\theight: 48rpx;\n\tflex-shrink: 0;\n}\n\n/* Loading Áä∂ÊÄÅ */\n.loading-spinner {\n\twidth: 40rpx;\n\theight: 40rpx;\n\tborder: 4rpx solid rgba(255, 255, 255, 0.3);\n\tborder-top-color: white;\n\tborder-radius: 50%;\n\tanimation: spin 0.8s linear infinite;\n}\n\n/* ÊöÇ‰∏çÁôªÂΩï */\n.skip-btn {\n\tmargin-top: 40rpx;\n\ttext-align: center;\n\tfont-size: 28rpx;\n\tcolor: #8E8E93;\n\tpadding: 20rpx;\n}\n\n/* ÂçèËÆÆÂãæÈÄâÂå∫ */\n.agreement-box {\n\tmargin-top: 48rpx;\n\tdisplay: flex;\n\talign-items: flex-start;\n\tgap: 16rpx;\n\tjustify-content: center;\n}\n\n.checkbox-wrapper {\n\tposition: relative;\n\twidth: 36rpx;\n\theight: 36rpx;\n\tflex-shrink: 0;\n\tmargin-top: 4rpx;\n}\n\n.custom-checkbox {\n\twidth: 100%;\n\theight: 100%;\n\tborder: 3rpx solid #C7C7CC;\n\tborder-radius: 50%;\n\ttransition: all 0.2s;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n/* ÈÄâ‰∏≠Áä∂ÊÄÅ */\n.checkbox-wrapper.checked .custom-checkbox {\n\tbackground: #111;\n\tborder-color: #111;\n}\n\n.checkbox-wrapper.checked .custom-checkbox::after {\n\tcontent: '';\n\twidth: 16rpx;\n\theight: 8rpx;\n\tborder-left: 4rpx solid white;\n\tborder-bottom: 4rpx solid white;\n\ttransform: rotate(-45deg) translate(2rpx, -2rpx);\n}\n\n/* ÊäñÂä®Âä®Áîª */\n.shake {\n\tanimation: shake 0.4s cubic-bezier(.36, .07, .19, .97) both;\n}\n\n.agreement-text {\n\tfont-size: 24rpx;\n\tcolor: #999;\n\tline-height: 1.5;\n\ttext-align: left;\n}\n\n.link {\n\tcolor: #576B95;\n\tfont-weight: 500;\n}\n\n/* Âä®ÁîªÂÆö‰πâ */\n@keyframes fadeInDown {\n\tfrom {\n\t\topacity: 0;\n\t\ttransform: translateY(-40rpx);\n\t}\n\tto {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t}\n}\n\n@keyframes fadeInUp {\n\tfrom {\n\t\topacity: 0;\n\t\ttransform: translateY(40rpx);\n\t}\n\tto {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t}\n}\n\n@keyframes breathe {\n\t0%, 100% {\n\t\ttransform: scale(1);\n\t}\n\t50% {\n\t\ttransform: scale(1.03);\n\t}\n}\n\n@keyframes spin {\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n}\n\n@keyframes shake {\n\t10%, 90% {\n\t\ttransform: translate3d(-2rpx, 0, 0);\n\t}\n\t20%, 80% {\n\t\ttransform: translate3d(4rpx, 0, 0);\n\t}\n\t30%, 50%, 70% {\n\t\ttransform: translate3d(-8rpx, 0, 0);\n\t}\n\t40%, 60% {\n\t\ttransform: translate3d(8rpx, 0, 0);\n\t}\n}\n</style>\n","import MiniProgramPage from '/Users/mulaotou/Documents/statud/Replace/ReplaceFronten/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;;AAqDA,UAAM,WAAWA,cAAG,IAAC,KAAK;AAG1B,UAAM,YAAYA,cAAG,IAAC,KAAK;AAG3B,UAAM,YAAYA,cAAG,IAAC,KAAK;AAC3B,UAAM,eAAeA,cAAG,IAAC,EAAE;AAG3B,UAAM,YAAYA,cAAG,IAAC,KAAK;AAG3B,UAAM,kBAAkB,MAAM;AAC7B,eAAS,QAAQ,CAAC,SAAS;AAC3B,gBAAU,QAAQ;AAAA,IACnB;AAGA,UAAM,mBAAmB,CAAC,YAAY;AACrC,mBAAa,QAAQ;AACrB,gBAAU,QAAQ;AAClB,iBAAW,MAAM;AAChB,kBAAU,QAAQ;AAAA,MAClB,GAAE,GAAI;AAAA,IACR;AAGA,UAAM,oBAAoB,MAAM;AAC/BC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACP,CAAE;AAAA,IACF;AAGA,UAAM,oBAAoB,MAAM;AAC/BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACP,CAAE;AAAA,IACF;AAGA,UAAM,cAAc,MAAM;AAEzB,UAAI,CAAC,SAAS,OAAO;AAEpB,kBAAU,QAAQ;AAClB,mBAAW,MAAM;AAChB,oBAAU,QAAQ;AAAA,QAClB,GAAE,GAAG;AAEN,yBAAiB,aAAa;AAC9B;AAAA,MACA;AAGD,gBAAU,QAAQ;AAGlBA,oBAAAA,MAAI,MAAM;AAAA,QACT,UAAU;AAAA,QACV,SAAS,CAAC,aAAa;AACtBA,wBAAAA,MAAY,MAAA,OAAA,gCAAA,WAAW,QAAQ;AAG/BA,wBAAAA,MAAI,eAAe;AAAA,YAClB,UAAU;AAAA,YACV,MAAM;AAAA,YACN,SAAS,CAAC,eAAe;AACxBA,4BAAAA,MAAY,MAAA,OAAA,gCAAA,aAAa,UAAU;AAGnC,iCAAmB,WAAW,QAAQ;AAAA,YACtC;AAAA,YACD,MAAM,CAAC,QAAQ;AACdA,4BAAAA,mDAAY,aAAa,GAAG;AAE5B,iCAAmB,IAAI;AAAA,YACvB;AAAA,UACL,CAAI;AAAA,QACD;AAAA,QACD,MAAM,CAAC,QAAQ;AACdA,wBAAAA,MAAA,MAAA,SAAA,gCAAc,WAAW,GAAG;AAC5B,oBAAU,QAAQ;AAElBA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,SAAS;AAAA,YACT,YAAY;AAAA,UAChB,CAAI;AAAA,QACD;AAAA,MACH,CAAE;AAAA,IACF;AAGA,UAAM,qBAAqB,CAAC,aAAa;AAExC,UAAI,UAAU;AACbA,4BAAI,eAAe,YAAY,QAAQ;AAAA,MACvC;AAGD,YAAM,eAAe;AAAA,QACpB,IAAI;AAAA,QACJ,UAAU,OAAO,KAAK,MAAM,KAAK,OAAQ,IAAG,GAAK;AAAA,QACjD,SAAQ,qCAAU,cAAa;AAAA,QAC/B,YAAY;AAAA,MACZ;AACDA,0BAAI,eAAe,YAAY,YAAY;AAE3CA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACR,CAAE;AAGD,iBAAW,MAAM;AAChBA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACR,CAAG;AAAA,MACD,GAAE,IAAI;AAAA,IACR;AAGA,UAAM,aAAa,MAAM;AAExBA,0BAAI,eAAe,eAAe,IAAI;AAEtCA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACR,CAAE;AAED,iBAAW,MAAM;AAChBA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACR,CAAG;AAAA,MACD,GAAE,IAAI;AAAA,IACR;;;;;;;;;;;;;;;;;;;;;AC9LA,GAAG,WAAW,eAAe;"}